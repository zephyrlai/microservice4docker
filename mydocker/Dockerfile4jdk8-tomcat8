FROM centos
MAINTAINER laizonghao@foxmail.com
# 添加Java、tomcat
ADD jdk-8u201-linux-x64.tar.gz /usr/local
ADD apache-tomcat-8.5.40.tar.gz /usr/local
# 安装vim
RUN yum -y install vim
# 设置工作路径
ENV MYPATH /usr/local
WORKDIR $MYPATH
# 配置jdk、tomcat环境变量
ENV JAVA_HOME /usr/local/jdk1.8.0_201
ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
ENV CATALINA_HOME /usr/local/apache-tomcat-8.5.40
ENV CATALINA_BASE /usr/local/apache-tomcat-8.5.40
ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_BASE/bin
# 监听端口
EXPOSE 8080
# 启动tomcat
# ENTRYPOINT ["echo","my tomcat8 is starting..."]
CMD /usr/local/apache-tomcat-8.5.40/bin/startup.sh && tail -f /usr/local/apache-tomcat-8.5.40/logs/catalina.out
